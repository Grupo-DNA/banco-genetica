from recursos import funcoes

import numpy as np
import matplotlib.pyplot as plt
from scipy.stats import norm

if __name__ == '__main__':

    #funcoes.insere_dados()

    snps = [
        "rs340874",
        "rs780094",
        "rs10203174",
        "rs243088",
        "rs243021",
        "rs7593730",
        "rs13389219",
        "rs3923113",
        "rs2943640",
        "rs7578326",
        "rs1801282",
        "rs13081389",
        "rs1496653",
        "rs831571",
        "rs6795735",
        "rs11717195",
        "rs11708067",
        "rs1470579",
        "rs6769511",
        "rs16861329",
        "rs4458523",
        "rs1801214",
        "rs459193",
        "rs4457053",
        "rs7756992",
        "rs10440833",
        "rs17168486",
        "rs849135",
        "rs849134",
        "rs4607517",
        "rs516946",
        "rs7845219",
        "rs896854",
        "rs3802177",
        "rs10811661",
        "rs10965250",
        "rs17791513",
        "rs13292136",
        "rs2796441",
        "rs11257655",
        "rs5015480",
        "rs163184",
        "rs231362",
        "rs5215",
        "rs1552224",
        "rs10830963",
        "rs11063069",
        "rs2261181",
        "rs1531343",
        "rs2612035",
        "rs4760790",
        "rs12427353",
        "rs7957197",
        "rs1359790",
        "rs7178572",
        "rs12899811",
        "rs8042680",
        "rs9936385",
        "rs11642841",
        "rs7202877",
        "rs4430796",
        "rs11651755",
        "rs12970134",
        "rs11873305",
        "rs10401969",
        "rs1800440",
        "rs149617956",
        "rs7705526",
        "rs16891982",
        "rs6914598",
        "rs55797833",
        "rs7902587",
        "rs1126809",
        "rs1056927",
        "rs12913832",
        "rs117648907",
        "rs2967383",
        "rs1805007",
        "rs1805008",
        "rs1805009",
        "rs78378222",
        "rs6059655",
        "rs72647484",
        "rs10911251",
        "rs6691170",
        "rs11903757",
        "rs35360328",
        "rs10936599",
        "rs35509282",
        "rs2735940",
        "rs1321311",
        "rs16892766",
        "rs6983267",
        "rs10795668",
        "rs1035209",
        "rs3824999",
        "rs3802842",
        "rs3217810",
        "rs11169552",
        "rs3184504",
        "rs73208120",
        "rs4444235",
        "rs9929218",
        "rs4939827",
        "rs10411210",
        "rs961253",
        "rs1810502",
        "rs4925386",
        "rs5934683",
        "rs17035289",
        "rs3131043",
        "rs3801081",
        "rs12427600",
        "rs7495132",
        "rs6066825",
        "rs11206510",
        "rs17114036",
        "rs17465637",
        "rs4845625",
        "rs6544713",
        "rs6725887",
        "rs515135",
        "rs2252641",
        "rs1561198",
        "rs2306374",
        "rs7692387",
        "rs17087335",
        "rs273909",
        "rs17609940",
        "rs3798220",
        "rs10947789",
        "rs4252120",
        "rs10953541",
        "rs11556924",
        "rs2023938",
        "rs3918226",
        "rs2954029",
        "rs264",
        "rs4977574",
        "rs579459",
        "rs111245230",
        "rs2505083",
        "rs1746048",
        "rs1412444",
        "rs12413409",
        "rs974819",
        "rs964184",
        "rs11830157",
        "rs4773144",
        "rs9319428",
        "rs2895811",
        "rs3825807",
        "rs17514846",
        "rs56062135",
        "rs216172",
        "rs12936587",
        "rs46522",
        "rs116843064",
        "rs1122608",
        "rs2075650",
        "rs9982601",
        "rs13394619",
        "rs7739264",
        "rs12700667",
        "rs1537377",
        "rs10859871",
        "rs13107325",
        "rs4252548",
        "rs2820443",
        "rs10974438",
        "rs143384",
        "rs2681472",
        "rs17249754",
        "rs2681492",
        "rs4842666",
        "rs11105328",
        "rs743395",
        "rs11014166",
        "rs12027135",
        "rs7515577",
        "rs2642442",
        "rs514230",
        "rs7570971",
        "rs2290159",
        "rs12916",
        "rs6882076",
        "rs3177928",
        "rs2814982",
        "rs9488822",
        "rs12670798",
        "rs2072183",
        "rs2081687",
        "rs2255141",
        "rs10128711",
        "rs7941030",
        "rs11065987",
        "rs1169288",
        "rs2000999",
        "rs10401969",
        "rs492602",
        "rs2277862",
        "rs2902940",
        "rs1077514",
        "rs11694172",
        "rs11563251",
        "rs13315871",
        "rs2758886",
        "rs9376090",
        "rs1997243",
        "rs10904908",
        "rs11603023",
        "rs314253",
        "rs138777",
        "rs4253772",
        "rs10127983",
        "rs4245739",
        "rs9306894",
        "rs74702681",
        "rs11691517",
        "rs34925593",
        "rs12621900",
        "rs2292884",
        "rs77559646",
        "rs77482050",
        "rs7618603",
        "rs1283104",
        "rs2242652",
        "rs71595003",
        "rs2736098",
        "rs10793821",
        "rs76551843",
        "rs9469899",
        "rs9443189",
        "rs6955627",
        "rs2572375",
        "rs6983267",
        "rs10090154",
        "rs34540271",
        "rs17694493",
        "rs10993994",
        "rs1935581",
        "rs1881502",
        "rs61890184",
        "rs2277283",
        "rs11568818",
        "rs74911261",
        "rs138466039",
        "rs2066827",
        "rs1270884",
        "rs1004030",
        "rs33984059",
        "rs13380763",
        "rs78378222",
        "rs11263763",
        "rs138213197",
        "rs2659051",
        "rs61752561",
        "rs381331",
        "rs138708",
        "rs5759167",
        "rs960417",
        "rs17321482",
        "rs4826594",
        "rs5919393",
        "rs9939609",
        "rs17782313",
        "rs6548238",
        "rs10938397",
        "rs7498665",
        "rs10838738",
        "rs11084753",
        "rs2815752",
        "rs7647305",
        "rs4923461",
        "rs10913469",
        "rs713586",
        "rs12444979",
        "rs2241423",
        "rs2287019",
        "rs1514175",
        "rs13107325",
        "rs2112347",
        "rs10968576",
        "rs3810291",
        "rs13078807",
        "rs11847697",
        "rs2890652",
        "rs1555543",
        "rs4771122",
        "rs4929949",
        "rs206936",
        "rs10150332",
        "rs987237"
    ]

    funcoes.consulta_frequencia_snp(snps)
    #funcoes.calcula_prs_pessoa('CLUB002606')
    #funcoes.calcula_prs_caracteristica('insonia')
    #funcoes.temp_calcula_tudo()
    #funcoes.compatibilidade()

    def plota_grafico(media, desvio_padrao, prs_x):

        x = np.arange(0, 100, 0.1)
        y = norm.pdf(x, media, desvio_padrao)
        prs_y = norm.pdf(prs_x, media, desvio_padrao)

        ax = plt.subplot(111)
        ax.plot(x, y)
        ax.set_title('Curva normal de Demência')
        ax.set_xlabel('PRS')

        ax.axvline(x=media, color='black', linestyle = '--', label = 'Média')
        ax.set_yticks([])
        ax.spines[['right', 'left', 'top']].set_visible(False)

        ax.scatter(prs_x, prs_y, color = 'r', zorder = 3)
        ax.fill_between(x, y, where=(x <= prs_x), color='lightblue', alpha=0.3)
        plt.show()

    plota_grafico(5.88, 9.12, 18.3)